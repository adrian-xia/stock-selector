## 1. 修改盘后链路函数

- [x] 1.1 在 `app/scheduler/jobs.py` 的 `run_post_market_chain()` 函数开头添加交易日历更新步骤
- [x] 1.2 调用 `manager.sync_trade_calendar()` 方法更新交易日历
- [x] 1.3 使用 try-except 捕获交易日历更新异常，失败时记录 WARNING 日志并继续
- [x] 1.4 添加性能日志记录交易日历更新耗时
- [x] 1.5 在日志中记录更新的日期范围和记录数

## 2. 提交已有修改

- [x] 2.1 提交 `app/data/manager.py` 的修改（优化交易日历同步逻辑）
- [x] 2.2 提交 `app/data/etl.py` 的修改（修复 is_open 字段处理）
- [x] 2.3 提交 `app/scheduler/jobs.py` 的周末任务修改（添加交易日历更新）

## 3. 测试验证

- [x] 3.1 编写单元测试：验证交易日历更新步骤的执行逻辑
- [x] 3.2 编写单元测试：验证交易日历更新失败时不阻断后续步骤
- [x] 3.3 编写集成测试：验证盘后链路的完整步骤顺序
- [x] 3.4 手动测试：启动服务并观察日志输出
- [x] 3.5 手动测试：检查数据库 `trade_calendar` 表的数据更新

## 4. 文档更新

- [x] 4.1 更新 `README.md` 中的功能特性，说明交易日历自动更新
- [x] 4.2 更新 `CLAUDE.md` 中的 V1 范围，说明交易日历更新机制
